import sun.tools.java.Imports

/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
task createWrapper(type: Wrapper) {
  gradleVersion = '4.9'
}

buildscript
{
  repositories
  {
    mavenLocal()
    jcenter()
  }

  dependencies
  {
    classpath "org.springframework.boot:spring-boot-gradle-plugin:1.5.9.RELEASE"
  }
}

allprojects
{
  group   = 'btr.sc.course'
  version = '1.0'
}

subprojects
{
  apply plugin: 'java'
  apply plugin: 'idea'
  apply plugin: 'org.springframework.boot'

  sourceCompatibility = JavaVersion.VERSION_1_8
  targetCompatibility = JavaVersion.VERSION_1_8

  repositories
  {
    mavenLocal()
    jcenter()
  }

  ext
  {
    bootName  = 'org.springframework.boot'
    cloudName = 'org.springframework.cloud'
  }

  configurations
  {
    compile.exclude module: 'spring-boot-starter-tomcat'
  }

  dependencies
  {
    compile     "${bootName}:spring-boot-starter-web",
    "${bootName}:spring-boot-starter-undertow",
    "${bootName}:spring-boot-starter-actuator",
    "${cloudName}:spring-cloud-starter-consul-discovery"
    compileOnly "org.projectlombok:lombok"
  }

  dependencyManagement
  {
    imports
    {
      mavenBom "${cloudName}:spring-cloud-dependencies:Edgware.RELEASE"
    }
  }
}

